<?php 	$title = "Solutions - File Upload";		$css = "<link rel='stylesheet' type='text/css' href='css/index.css'>";		$js = "<script type='text/javascript' src='js/index.js'></script>";		require($_SERVER['DOCUMENT_ROOT']."/manager/resources/php/smart_resize_image.php");		require($_SERVER['DOCUMENT_ROOT']."/manager/header.php");?><div id='main'>		<h1>Solutions File-Upload</h1>	<p class='intro'>Go through each file and determine the size you want.</p>		<?php 			// get all the files and output them		if (@$_FILES) {						$uploads = $_FILES['uploads'];						for ($x=0; $x <= count($uploads); $x++) {								$name = $uploads['name'][$x];				$type = $uploads['type'][$x];				$tmp_name = $uploads['tmp_name'][$x];				$error = $uploads['error'][$x];				$size = $uploads['size'][$x];								// if ther are no errors				if ($error == 0) {										$filePath = "/manager/solutions/gallerize/images/".$name;					$largeFilePath = "/manager/solutions/gallerize/images/large/".$name;										if (move_uploaded_file($tmp_name, $_SERVER['DOCUMENT_ROOT'].$filePath)) {																		$imageInfo = getimagesize($_SERVER['DOCUMENT_ROOT'].$filePath);												$width = $imageInfo[0];						$height = $imageInfo[1];						$type = $imageInfo["mime"];												echo "						<div class='image'>							<div class='ui-text-center message'>".$name." has been successfully uploaded!</div>							<img src='".$filePath."'>							<div class='image-data'>								<div class='row'>									<div class='data'>Width:</div>									<div class='data'>".$width."</div>								</div>								<div class='row'>									<div class='data'>Height:</div>									<div class='data'>".$height."</div>								</div>								<div class='row'>									<div class='data'>Type:</div>									<div class='data'>".$type."</div>								</div>							</div>						</div>";												// TODO: make a switch statement to resize images based on size						smart_resize_image($_SERVER['DOCUMENT_ROOT'].$filePath, null, 1920, 1080, false, $_SERVER['DOCUMENT_ROOT'].$largeFilePath, false, false, 100);					}					else echo "<div class='ui-state-error'>Error loading ".$name." to the server!</div>";				}				else echo "<div class='ui-state-error'>Error loading ".$name." to this page!</div>";			}						echo "<div class='ui-text-center'><a href='/manager/solutions/gallerize/'><button type='button'>Back to Gallerize</button></a></div>";		}	?>	</div><?php 		/**		Returns an array of all string positions.	*/	function strpos_all($haystack, $needle) {				$offset = 0;		$allpos = array();		while (($pos = strpos($haystack, $needle, $offset)) !== FALSE) {			$offset   = $pos + 1;			$allpos[] = $pos;		}		return $allpos;	}?>